

#include QMK_KEYBOARD_H

// clang-format off
enum layers{
  LAYER_0,
  LAYER_1,
  LAYER_2,
  LAYER_3,
  LAYER_4,
  LAYER_5,
  LAYER_6,
  LAYER_7,
  LAYER_8,
  LAYER_9,
  LAYER_10,
  LAYER_11,
  LAYER_12,
  LAYER_13,
  LAYER_14,
  LAYER_15,
  LAYER_16,
  LAYER_17,
  LAYER_18,
  LAYER_19,
  LAYER_20,
  LAYER_21,
  LAYER_22,
  LAYER_23,
  LAYER_24,
  LAYER_25,
  LAYER_26,
  LAYER_27,
  LAYER_28,
  LAYER_29,
  LAYER_30,
  LAYER_31
};

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
    [LAYER_0] = LAYOUT_109_ansi(
        KC_ESC,    KC_F1, KC_F2, KC_F3, KC_F4,    KC_F5, KC_F6, KC_F7, KC_F8,    KC_F9, KC_F10, KC_F11, KC_F12,    KC_MUTE,   _______, _______, _______,   _______, _______, _______, KC_CALC,
        KC_GRV,  KC_1,   KC_2,   KC_3,   KC_4,   KC_5,   KC_6,   KC_7,   KC_8,   KC_9,  KC_0,   KC_MINS,  KC_EQL,  KC_BSPC,    KC_INS, KC_HOME, KC_PGUP,   KC_NUM, KC_PSLS, KC_PAST, KC_PMNS,
        KC_TAB,    KC_Q,   KC_W,   KC_E,   KC_R,   KC_T,   KC_Y,   KC_U,   KC_I,   KC_O,   KC_P, KC_LBRC, KC_RBRC, KC_BSLS,    KC_DEL,  KC_END, KC_PGDN,     KC_P7,   KC_P8,   KC_P9, KC_PPLS,
        KC_CAPS,     KC_A,   KC_S,   KC_D,   KC_F,   KC_G,   KC_H,   KC_J,   KC_K,   KC_L,  KC_SCLN,  KC_QUOT,      KC_ENT,                                  KC_P4,   KC_P5,   KC_P6,
        KC_LSFT,       KC_Z,   KC_X,   KC_C,   KC_V,   KC_B,   KC_N,   KC_M,  KC_COMM, KC_DOT,   KC_SLSH,          KC_RSFT,              KC_UP,              KC_P1,   KC_P2,   KC_P3,  KC_ENT,
        KC_LCTL, KC_LWIN, KC_LALT,                            KC_SPC,               KC_RALT, MO(LAYER_31), KC_PSCR, KC_RCTL,   KC_LEFT, KC_DOWN, KC_RGHT,     KC_P0,   KC_PDOT        ),
    [LAYER_1] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_2] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_3] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ), 
    [LAYER_4] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),  
    [LAYER_5] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_6] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_7] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_8] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_9] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_10] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_11] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_12] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_13] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_14] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_15] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_16] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_17] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_18] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_19] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_20] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_21] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_22] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_23] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_24] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_25] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_26] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_27] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_28] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_29] = LAYOUT_109_ansi(
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_30] = LAYOUT_109_ansi(
        QK_BOOT, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, EE_CLR, QK_RBT, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______, _______, DB_TOGG, _______, _______, _______, _______, _______, _______, _______, _______,          _______,                            _______, _______, _______,
        _______,          _______, _______, _______, _______, _______, _______, QK_MAKE, _______, _______, _______,          _______,          _______,          _______, _______, _______, _______,
        _______, _______, _______,                            _______,                            _______, MO(LAYER_31), _______, _______, _______, _______, _______, _______,          _______        ),
    [LAYER_31] = LAYOUT_109_ansi(
        _______,  KC_F13,  KC_F14,  KC_F15,  KC_F16,  KC_F17,  KC_F18,  KC_F19,  KC_F20,  KC_F21,  KC_F22,  KC_F23,  KC_F24, RGB_TOG, BT_HST1, BT_HST2, BT_HST3,      BT_HST4,      BT_HST5,      BT_HST6, KC_CALC,
        DF(LAYER_0), DF(LAYER_1), DF(LAYER_2), DF(LAYER_3), DF(LAYER_4), DF(LAYER_5), DF(LAYER_6), DF(LAYER_7), DF(LAYER_8), DF(LAYER_9), DF(LAYER_10), _______, _______, _______, _______, _______, _______,      _______,      _______,      _______, RGB_VAD,
        _______, DF(LAYER_11), DF(LAYER_12), DF(LAYER_13), DF(LAYER_14), DF(LAYER_15), DF(LAYER_16), DF(LAYER_17), DF(LAYER_18), DF(LAYER_19), DF(LAYER_20), _______, _______, _______, _______, _______, _______,  DF(LAYER_7),  DF(LAYER_8),  DF(LAYER_9), RGB_VAI,
        _______, DF(LAYER_21), DF(LAYER_22), DF(LAYER_23), DF(LAYER_24), DF(LAYER_25), DF(LAYER_26), DF(LAYER_27), DF(LAYER_28), DF(LAYER_29), DF(LAYER_30), _______,          _______,                             DF(LAYER_4),  DF(LAYER_5),  DF(LAYER_6),
        _______,          _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,          _______,          KC_MPLY,           DF(LAYER_1),  DF(LAYER_2),  DF(LAYER_3), _______,
        _______, _______, _______,                            _______,                            _______, _______, _______, _______, KC_MPRV, _______, KC_MNXT,  DF(LAYER_0),                 KC_COMM             ),
};

#if defined(ENCODER_MAP_ENABLE)
const uint16_t PROGMEM encoder_map[][1][2] = {
    [LAYER_0] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_1] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_2] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_3] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_4] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_5] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_6] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_7] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_8] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_9] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_10] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_11] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_12] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_13] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_14] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_15] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_16] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_17] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_18] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_19] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_20] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_21] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_22] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_23] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_24] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_25] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_26] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_27] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_28] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_29] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_30] = {ENCODER_CCW_CW(KC_VOLD, KC_VOLU) },
    [LAYER_31] = {ENCODER_CCW_CW(RGB_VAD, RGB_VAI) },
};
#endif // ENCODER_MAP_ENABLE



#define MATRIX_COLS 21 // Update this value according to your keyboard matrix size
#define SPLASH_RADIUS 3

// Custom function to set specific colors for different rows
void set_custom_colors(void) {
    for (int i = 0; i < 41; i++) {
        rgb_matrix_set_color(i, 255, 0, 15); // Purple
    }
    for (int i = 41; i < 78; i++) {
        rgb_matrix_set_color(i, 255, 0, 0); // Red
    }
    for (int i = 78; i < 108; i++) {
        rgb_matrix_set_color(i, 250, 15, 0); // Orange
    }
}

// Update lock key colors
void update_lock_keys(void) {
    if (host_keyboard_led_state().caps_lock) {
        rgb_matrix_set_color(62, 255, 255, 255); // White for Caps Lock
    }
    if (host_keyboard_led_state().num_lock) {
        rgb_matrix_set_color(37, 255, 255, 255); // White for Num Lock
    }
}

// Apply splash effect with a radius
void splash_effect(uint8_t row, uint8_t col) {
    for (int r = -SPLASH_RADIUS; r <= SPLASH_RADIUS; r++) {
        for (int c = -SPLASH_RADIUS; c <= SPLASH_RADIUS; c++) {
            int current_row = row + r;
            int current_col = col + c;
            if (current_row >= 0 && current_row < MATRIX_ROWS && current_col >= 0 && current_col < MATRIX_COLS) {
                int key_index = current_col + current_row * MATRIX_COLS;
                rgb_matrix_set_color(key_index, 255, 255, 255); // White splash
            }
        }
    }
}

// Initialize keyboard with custom colors
void keyboard_post_init_user(void) {
    rgb_matrix_enable_noeeprom(); // Enable RGB Matrix
    rgb_matrix_mode_noeeprom(RGB_MATRIX_SOLID_COLOR); // Set to solid color mode
    set_custom_colors(); // Apply custom colors initially
    update_lock_keys(); // Apply lock key colors initially
}

// Apply continuous custom colors and lock key updates
void matrix_scan_user(void) {
    // Only update lock keys to avoid continuous resetting of custom colors
    update_lock_keys();
}

// Trigger splash effect on key press
bool process_record_user(uint16_t keycode, keyrecord_t *record) {
    if (record->event.pressed) {
        uint8_t row = record->event.key.row;
        uint8_t col = record->event.key.col;
        splash_effect(row, col);
        wait_ms(200); // Increase delay to make the splash more noticeable
        set_custom_colors(); // Reset colors after splash
        update_lock_keys(); // Ensure lock key colors are reset as well
    }
    return true;
}